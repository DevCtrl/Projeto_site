<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"	
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:jsf="http://xmlns.jcp.org/jsf">
	
   
     
<body>
  <ui:composition template="Layout_Sistema.xhtml">
   <ui:define name="Titulo">Venda</ui:define>
  <ui:define name="corpo">    
      <h:form id="formPro">
	       <div class="panel panel-default">
			<!-- Default panel contents -->
			<div class="panel-heading"><i class="icon-shopping-cart"/>Carrinho de Compras</div>
			<div class="panel-body">	
			   <label>Cliente</label>			   
			   <a  data-toggle="modal" data-target="#myModal">
			     <i class="glyphicon glyphicon-search"></i>
			   </a> 
			   <label class="pull-right">#{ben.cli.nome}</label>			
			</div>
	
			<!-- Table -->
		<h:panelGroup layout="block" style="height:240px;overflow-y:scroll"> 	
           <h:dataTable id="tb" var="list" value="#{ben.lisCarrinho}" 
                 styleClass="table table-hover"  rows="7" emptyMessage="Seu carrinho esta vazio">  >
           <h:column >                        
              #{list.nome}              
           </h:column>          
            <h:column >            
               #{list.valor_Revenda}                                                   
           </h:column>
           <h:column>
             <h:outputText value="#{list.quantidade}"/>               
           </h:column>
             <h:column>
             x              
           </h:column>
           <h:column>
             <h:outputText value="#{list.comprado}"/>               
           </h:column>
           <h:column>
             <h:commandLink value="remove" actionListener="#{ben.Remove}">               
               <f:setPropertyActionListener target="#{ben.pd}" value="#{list}"/>               
             </h:commandLink>               
           </h:column>
           </h:dataTable>
         </h:panelGroup>  
		</div>
		
		<div class="form-group ">
		   <button type="submit" jsf:action="#{ben.buscapg}" class="btn btn-info" >Adicionar so carrinho</button>		  
		  <div class="form-group  pull-right"> 
		   <label  >Todal do Carrinho  </label>
		   <input  value="#{ben.total}" disabled="disabled"/>
		  </div>		 		  
		</div>														 										
		<br/>
		<br/>
		 <button type="submit" class="btn btn-success" jsf:actionListener="#{ben.FinalizarCompra}" >Finalizar compra</button>
		 <button type="submit" class="btn btn-danger pull-right" jsf:action="#{ben.Cancelarcompra}" >Cancelar compra</button>	
		
		</h:form>			
		        	          
				<!-- Modal -->
				<form jsf:id="form2">
				 <div class="modal fade" id="myModal">
					  <div class="modal-dialog">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        <h4 class="modal-title">Cliente</h4>
					      </div>
					      <div class="modal-body">
					        <label>Nome Cliente</label>					       
					        <input jsf:id="ip" type="text" class="form-control" jsf:value="#{ben.clientePesquisa}" placeholder="digite o cliente"/>
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>					       
					        <button type="submit" jsf:action="#{ben.BuscaCliente}" class="btn btn-primary">Ok</button>
					      </div>
					    </div><!-- /.modal-content -->
					  </div><!-- /.modal-dialog -->
					</div><!-- /.modal -->	      
				</form>      
					     
					      
       
            </ui:define> 
   </ui:composition>
</body> 
</html>





	