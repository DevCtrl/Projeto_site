<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>

    <title>Chart.js - criando gráficos com a biblioteca Chart.js</title>


</head>

<body>    
    <ui:composition template="sistema.xhtml">
		<ui:define name="Titulo"><i class="fa fa-angle-right"></i> relatorio </ui:define>
		<ui:define name="corpo">
        <form jsf:id="form1">
        <div class="row-fluid"> 
        
		   <div style="padding: 10px;">
		     <button type="button" Class="btn btn-primary" onclick="grafico()" jsf:rendered="#{benRelatorio.grafico == 'graficoCliente'}" >Clientes</button>
		     <button type="button" Class="btn btn-primary" onclick="graficoP()" jsf:rendered="#{benRelatorio.grafico == 'graficoProduto'}" >Produtos</button>
		     <h:selectOneMenu value="#{benRelatorio.grafico}">
		          <f:selectItem itemValue="graficoCliente" itemLabel="Grafico Cliente"></f:selectItem>
		          <f:selectItem itemValue="graficoProduto" itemLabel="Grafico produto"></f:selectItem>
		          <f:ajax event="change" listener="#{benRelatorio.carregaGrafico}" render=":form1"></f:ajax>
		     </h:selectOneMenu>
		     
		    
		   </div>
		
        
        
        
	     <div class="panel panel-default">
			<!-- Default panel contents -->
			<div class="panel-heading"><i class="fa fa-chart fa-2x"/> Clientes cadastrados</div>
			<div class="panel-body">	
			   	<canvas id="GraficoBarra"  style=" width:100%; "></canvas>
			</div>
         </div>
        </div>
       </form>
   
   
     
    
    
  
    

            
            
   <script type="text/javascript">
        var randomnb = function(){ return Math.round(Math.random()*100)};
        
    </script> 
   <script type="text/javascript">                                        

                var options = {
                    responsive:true
                };

                var data = {
                    labels: ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"],
                    datasets: [
                        {
                            label: "Dados primários",
                            fillColor: "rgba(255,69,0,0.8)",
                            strokeColor: "rgba(140,23,23,5.8)",
                            highlightFill: "rgba(220,220,220,0.75)",
                            highlightStroke: "rgba(220,220,220,1)",
                            data: ["#{benRelatorio.comando.janeiro}", "#{benRelatorio.comando.fevereiro}", "#{benRelatorio.comando.marco}", "#{benRelatorio.comando.abril}", randomnb(), randomnb(), randomnb(), randomnb(), randomnb(), randomnb(), randomnb(), randomnb()]
                        }
                    ]
                };                

                function grafico (){
                    var ctx = document.getElementById("GraficoBarra").getContext("2d");
                    var BarChart = new Chart(ctx).Bar(data, options);
                }           
            </script>
            
            <script type="text/javascript" >                                        

                var options1 = {
                    responsive:true                    
                };

                var data1 = {
                		labels: ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"],
                	    datasets: [
                	        {
                	            label: "My First dataset",
                	            fillColor: "rgba(255,165,0,0.8)",
                	            strokeColor: "rgba(220,220,220,1)",
                	            pointColor: "rgba(0,0,0,1)",
                	            pointStrokeColor: "#fff",
                	            pointHighlightFill: "#fff",
                	            pointHighlightStroke: "rgba(220,220,220,1)",
                	            data: ["#{benSistema.quanteP}", 59, 30, 81, 56, 55, 40,30,35,45,75,78]
                	        }                        
                         ]
                };                

                function graficoP(){
                    var ct = document.getElementById("GraficoBarra").getContext("2d");
                    var LineChart = new Chart(ct).Line(data1, options1);
                }           
            </script>
          
        
    
    
    <script type="text/javascript" src="#{request.contextPath}/resources/bootstrap/js/Chart.min.js">
	</script>
    </ui:define>
    </ui:composition>
</body>

</html>